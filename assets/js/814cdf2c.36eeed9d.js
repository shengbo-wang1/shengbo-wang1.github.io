"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[498],{2430(n,e,t){t.r(e),t.d(e,{default:()=>s});var r=t(6540),o=t(1656),i=t(4848);const a=()=>{const n=(0,r.useRef)(null),e=(0,r.useRef)({snake:[],food:{x:15,y:15},velocityX:0,velocityY:0,lastInputDirection:{x:0,y:0},gameInterval:null,isRunning:!1,gridSize:20,tileCount:20}),[t,o]=(0,r.useState)(0),[a,s]=(0,r.useState)(0),[l,c]=(0,r.useState)(!1),d=()=>{const n=e.current;n.snake=[{x:10,y:10},{x:10,y:11},{x:10,y:12}],n.velocityX=0,n.velocityY=-1,n.lastInputDirection={x:0,y:-1},n.isRunning=!0,o(0),c(!1),u(),n.gameInterval&&clearInterval(n.gameInterval),n.gameInterval=setInterval(g,100)},u=()=>{const n=e.current;n.food={x:Math.floor(Math.random()*n.tileCount),y:Math.floor(Math.random()*n.tileCount)};for(let e of n.snake)if(e.x===n.food.x&&e.y===n.food.y)return void u()},g=()=>{const n=e.current;if(!n.isRunning)return;const t={x:n.snake[0].x+n.velocityX,y:n.snake[0].y+n.velocityY};t.x<0||t.x>=n.tileCount||t.y<0||t.y>=n.tileCount||n.snake.some(n=>n.x===t.x&&n.y===t.y)?f():(n.snake.unshift(t),t.x===n.food.x&&t.y===n.food.y?(o(n=>n+10),u()):n.snake.pop(),n.lastInputDirection={x:n.velocityX,y:n.velocityY},p())},f=()=>{const n=e.current;n.isRunning=!1,clearInterval(n.gameInterval),c(!0),s(n=>{const e=Math.max(n,t);return"undefined"!=typeof window&&localStorage.setItem("snakeHighScore",e),e})},p=()=>{const t=n.current;if(!t)return;const r=t.getContext("2d"),o=e.current;r.fillStyle="#000000",r.fillRect(0,0,t.width,t.height),r.fillStyle="#ff3333",r.beginPath(),r.arc(o.food.x*o.gridSize+o.gridSize/2,o.food.y*o.gridSize+o.gridSize/2,o.gridSize/2-2,0,2*Math.PI),r.fill(),o.snake.forEach((n,e)=>{r.fillStyle=0===e?"#00cc6a":"#00ff88",r.fillRect(n.x*o.gridSize+1,n.y*o.gridSize+1,o.gridSize-2,o.gridSize-2)})},x=n=>{const t=e.current;if(!t.isRunning)return;const r=-1===t.lastInputDirection.y,o=1===t.lastInputDirection.y,i=1===t.lastInputDirection.x,a=-1===t.lastInputDirection.x;"ArrowLeft"!==n||i||(t.velocityX=-1,t.velocityY=0),"ArrowUp"!==n||o||(t.velocityX=0,t.velocityY=-1),"ArrowRight"!==n||a||(t.velocityX=1,t.velocityY=0),"ArrowDown"!==n||r||(t.velocityX=0,t.velocityY=1)};return(0,r.useEffect)(()=>{if("undefined"==typeof window)return;const n=localStorage.getItem("snakeHighScore");n&&s(parseInt(n));const t=n=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)&&(n.preventDefault(),x(n.key))};return window.addEventListener("keydown",t),d(),()=>{window.removeEventListener("keydown",t),clearInterval(e.current.gameInterval)}},[]),(0,r.useEffect)(()=>{l&&t>a&&(s(t),"undefined"!=typeof window&&localStorage.setItem("snakeHighScore",t))},[l,t]),(0,i.jsxs)("div",{className:"snake-game-container",children:[(0,i.jsx)("style",{children:"\n  .snake-game-container {\n    --bg-color: #1a1a1a;\n    --board-bg: #000000;\n    --accent-color: #00ff88;\n    --food-color: #ff3333;\n    background-color: var(--bg-color);\n    color: #ffffff;\n    font-family: 'Segoe UI', Tahoma, sans-serif;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    border-radius: 10px;\n    margin: 20px 0;\n    user-select: none;\n  }\n\n  .snake-game-wrapper {\n    position: relative;\n    padding: 10px;\n    background: #2a2a2a;\n    border-radius: 10px;\n    box-shadow: 0 10px 20px rgba(0,0,0,0.5);\n  }\n\n  .snake-canvas {\n    background-color: var(--board-bg);\n    display: block;\n    border: 2px solid #333;\n    box-shadow: inset 0 0 20px rgba(0, 255, 136, 0.1);\n    max-width: 100%;\n    height: auto;\n  }\n\n  .score-board {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    margin-bottom: 10px;\n    font-size: 1.2rem;\n    font-weight: bold;\n    color: white;\n  }\n\n  .game-over-screen {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.85);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 10px;\n    z-index: 10;\n  }\n\n  .game-btn {\n    background: var(--accent-color);\n    color: #000;\n    border: none;\n    padding: 10px 25px;\n    font-size: 1.1rem;\n    border-radius: 25px;\n    cursor: pointer;\n    font-weight: bold;\n    margin-top: 10px;\n    transition: transform 0.1s;\n  }\n  .game-btn:hover { transform: scale(1.05); }\n  .game-btn:active { transform: scale(0.95); }\n\n  .mobile-controls {\n    display: none;\n    margin-top: 20px;\n    grid-template-columns: repeat(3, 60px);\n    grid-template-rows: repeat(2, 60px);\n    gap: 10px;\n  }\n\n  .ctrl-btn {\n    background: #333;\n    color: white;\n    border-radius: 50%;\n    border: 2px solid #555;\n    font-size: 1.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    touch-action: manipulation;\n  }\n  \n  .ctrl-btn:active { background: var(--accent-color); color: black; }\n\n  @media (max-width: 600px) {\n    .mobile-controls { display: grid; }\n    .snake-canvas { width: 300px; height: 300px; }\n  }\n"}),(0,i.jsx)("h1",{children:"\u8d2a\u5403\u86c7"}),(0,i.jsxs)("div",{className:"snake-game-wrapper",children:[(0,i.jsxs)("div",{className:"score-board",children:[(0,i.jsxs)("span",{children:["\u5206\u6570: ",t]}),(0,i.jsxs)("span",{children:["\u6700\u9ad8\u5206: ",a]})]}),(0,i.jsx)("canvas",{ref:n,width:400,height:400,className:"snake-canvas"}),l&&(0,i.jsxs)("div",{className:"game-over-screen",children:[(0,i.jsx)("h2",{style:{color:"#ff3333",fontSize:"2rem",margin:"0 0 10px 0"},children:"\u6e38\u620f\u7ed3\u675f"}),(0,i.jsxs)("p",{style:{fontSize:"1.2rem",color:"white"},children:["\u6700\u7ec8\u5f97\u5206: ",t]}),(0,i.jsx)("button",{className:"game-btn",onClick:d,children:"\u518d\u73a9\u4e00\u6b21"})]})]}),(0,i.jsxs)("div",{className:"mobile-controls",children:[(0,i.jsx)("div",{style:{gridColumn:2,gridRow:1},className:"ctrl-btn",onTouchStart:n=>{n.preventDefault(),x("ArrowUp")},children:"\u25b2"}),(0,i.jsx)("div",{style:{gridColumn:1,gridRow:2},className:"ctrl-btn",onTouchStart:n=>{n.preventDefault(),x("ArrowLeft")},children:"\u25c0"}),(0,i.jsx)("div",{style:{gridColumn:2,gridRow:2},className:"ctrl-btn",onTouchStart:n=>{n.preventDefault(),x("ArrowDown")},children:"\u25bc"}),(0,i.jsx)("div",{style:{gridColumn:3,gridRow:2},className:"ctrl-btn",onTouchStart:n=>{n.preventDefault(),x("ArrowRight")},children:"\u25b6"})]})]})};function s(){return(0,i.jsx)(o.A,{title:"\u8d2a\u5403\u86c7",description:"\u7ecf\u5178\u8d2a\u5403\u86c7\u6e38\u620f",children:(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:(0,i.jsx)(a,{})})})}}}]);